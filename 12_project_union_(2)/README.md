# Прогнозирование оттока клиентов в сети отелей «Как в гостях»

Заказчик исследования — сеть отелей «Как в гостях».

Сеть отелей добавила на свой сайт возможность забронировать номер без предоплаты. Однако если клиент отменял бронирование, то компания терпела убытки. Сотрудники отеля могли, например, закупить продукты к приезду гостя или просто не успеть найти другого клиента.

Нужно разработать систему, которая предсказывает отказ от брони. Если модель покажет, что бронь будет отменена, то клиенту предлагается внести депозит. Размер депозита — 80% от стоимости номера за одни сутки и затрат на разовую уборку. Деньги будут списаны со счёта клиента, если он всё же отменит бронь.

# Общий вывод

- В процессе предобработки и исследовательского анализа:
  - Дубликатов не обнаружено
  - Пропусков в данных нет
  - Требующиеся значения преобразованы и приведены к корректному типу данных
  - Удалены строки не прошедшие проверку на адекватность: были номера без взрослых, но с детьми (менее 1% данных)
  - Топ 6 стран выделены в отдельные группы, все остальные объединены в группу 7
  - Соотношение отмененных заказов к неотмененным 1:2
  - Наиболее частый тип заказчика Transient
  - Чаще всего оформляют бронь на комнаты типа A
  - Медианное количество дней между бронированием и подтверждением составляет 60-70 дней
  - Среди данных о количестве детей есть цифры 9 и 10, что является выбросом (менее 1% данных). Данные были удалены.
  - Среди данных о количество вносимых изменений есть цифры больше 7, что также является выбросом (менее 1% данных). Данные были удалены.
  - Чаще всего заказывают номера на 1,2,3 и 4 ночи
  - Заказчик Transientкак правило заказывает опцию "завтрак включен", а также номера категории A и B
  - Чаще всего бронируют на 2-3 ночи номера категории A и B с опцией "завтрак включен"
  
- При разработки модели были получены следующие метрики:
  - Для модели случайного леса (f1 = 0.647; ROC-AUC = 0.797) - `является лучшим результатом`
  - Для модели решающего дерева (f1 = 0.647; ROC-AUC = 0.762) 
  - Для модели логистической регрессии (f1 = 0.583; ROC-AUC = 0.775)
  - При тестировании значения f1 = 0.668; ROC-AUC = 0.802
  
- Введение депозитов определенно нужно отелю, так как: 
  - При внедрении депозитов и предсказывающей модели прибыль отеля за `тестовый` период увеличивается на 9,2 млн. руб.
  - Бюджет на разработку в размере 400 тыс. рублей окупится уже в первый месяц
  - изза большого количества заказов, которые не ожидали подтверждения можно сделать вывод, что сервис отеля могли использовать для просмотра неких метрик.
  - очень много заказчиков без истории подтвержденных заказов
  - отмененные заказы преобладают у заказчиков типа `Transient` и `Transient-Party`
  
- Ненадежный клиент чаще всего имеет признаки:
  - Тип забронированной комнаты `A`
  - Не имеет ранее подтвержденных заказов
  - Не вносит изменений параметров заказа
  - Ноль дней заказ ожидал подтверждения
  - Отсутствуют специальные отметки
